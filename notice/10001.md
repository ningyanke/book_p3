##  遍历列表删除元素

> Python 不推荐遍历循环的时候直接修改列表,因为这样可能会产生bug,遗漏删除的某些内容
>
> ```python
> # python不建议在循环的时候修改原列表
> # 删除33
> lst = [11, 22,33,44,55,66,77]
> for i in lst:
>     if i == 33:
>         lst.remove(i)
> print("lst remove 33:", lst)
>
> # 删除列表中的33,44
> lst1 = [11, 22,33,44,55,66,77]
> for i in lst1:
>     if i == 33 or i ==44:
>         lst1.remove(i)
> print("lst1 remove 33,44:",lst1)
> ```
>
> 输出
>
> ```python
> lst remove 33: [11, 22, 44, 55, 66, 77]
> lst1 remove 33,44: [11, 22, 44, 55, 66, 77]
> ```
>
> 可以看到`lst1` 中,原本想要删除的44,根本就没有删除.这是因为python遍历的时候依靠的是索引值,当删除一个元素后,整个列表的索引位置就发生了改变.如下:
>
> ```python
> lst2 = [11, 22,33,44,55,66,77]
> for i in lst2:
>     print("{}:{}, lst2:{}".format(i, lst2.index(i), lst2))
>     if i == 33 or i ==44:
>         lst2.remove(i)
> print("lst2 remove 33,44:",lst2)
> ```
>
> 输出
>
> ```python
> 11:0, lst2:[11, 22, 33, 44, 55, 66, 77]
> 22:1, lst2:[11, 22, 33, 44, 55, 66, 77]
> 33:2, lst2:[11, 22, 33, 44, 55, 66, 77]
> 55:3, lst2:[11, 22, 44, 55, 66, 77]
> 66:4, lst2:[11, 22, 44, 55, 66, 77]
> 77:5, lst2:[11, 22, 44, 55, 66, 77]
> ```
>
> 删除33后,33的后一位的索引变成了原来33的索引,这样导致索引错位,必然会出现Bug,导致某些元素不能删除.

### 解决方法

> 2中解决方法
>
> - 不依靠索引,而是利用`iterator` 的特性
> - 生成新的列表,利用新的列表操作原列表,或while循环

#### 利用`iterator`

> ```python
> # 1.使用filter过滤返回原来列表
> lst = [11, 22,33,44,55,66,77]
> lst = filter(lambda x: x != 33, lst) 
> print(list(lst))
> # 2.列表解析
> lst1 = [11, 22,33,44,55,66,77]
> lst2 = [i for i in lst1 if i != 33 and i !=44 ]
> print(lst2)
> ```
>
> 输出
>
> ```python
> [11, 22, 44, 55, 66, 77]
> [11, 22, 55, 66, 77]
> ```

#### 生成新列表

> ```python
> # 生成新的列表进行操作
> # 1.使用切片操作
> lst3 = [11, 22,33,44,55,66,77]
> for i in lst3[:]:
>     if i == 33 or i == 44:
>         lst3.remove(i)
> print(lst3)
>
> # 使用while循环
> lst4 = [11, 22,33,44,55,66,77]
> while 33 in lst4 or 44 in lst4:
>     lst4.remove(33)
>     lst4.remove(44)
> print(lst4)
> ```
>
> 输出
>
> ```python
> [11, 22, 55, 66, 77]
> [11, 22, 55, 66, 77]
> ```
>
> 