###  高阶函数

补充`first-class`

> 高阶函数(Hight-order Function)
>
> 在[数学](https://zh.wikipedia.org/wiki/%E6%95%B0%E5%AD%A6)和[计算机科学](https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)中，**高阶函数**是至少满足下列一个条件的[函数](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0)：
>
> - 接受一个或多个函数作为输入
> - 输出一个函数
>
> 高阶函数一般是那些函数型别包含多于一个箭头的函数。在函数式编程中，返回另一个函数的高阶函数被称为[Curry化](https://zh.wikipedia.org/wiki/Curry%E5%8C%96)的函数。
>
> 在很多函数式编程语言中能找到的`map`函数是高阶函数的一个例子。它接受一个函数**f**作为参数，并返回接受一个列表并应用**f**到它的每个元素的一个函数。
>
> ----维基百科
>
> 下面一步步深入概念:

#####  变量可以指向函数

> 以Python内置的求绝对值的函数`abs()` 为例, **调用函数** 用以下代码
>
> ```python
> In [28]: abs(-10)
> Out[28]: 10
> ```
>
> 如果只写`abs` ,返回的是一个**函数对象**
>
> ```python
> In [29]: abs
> Out[29]: <function abs>
> ```
>
> 可见,`abs(-10)` 是**调用函数** ,`abs` 是**函数对象本身**
>
> 想要得到**函数调用**  的结果,我们可以吧它赋值到变量中
>
> ```python
> In [30]: x = abs(-10)
>
> In [31]: x
> Out[31]: 10
> ```
>
> 如果把函数对象本身赋值给变量,会出现
>
> ```python
> In [32]: f = abs
>
> In [33]: f
> Out[33]: <function abs>
> ```
>
> 可以看到 **变量指向了函数对象本身** 
>
> ```sequence
> 变量  ->   函数名:变量标签指向函数名标签
> 函数名  -> 函数本体: 函数名标签指向了函数本体
> 变量  -->  函数本体: 变量通过链式赋值 指向了函数本体
>
> ```
>
> 即**函数本身可以赋值给变量,变量可以指向函数**
>
> 一个变量指向了函数,那么可以通过这个变量来调用函数
>
> ```python
> In [34]: f(-10)
> Out[34]: 10
> ```
>
> 说明,变量`f` 指向了函数`abs`本身,直接调用函数`abs()`和调用变量`f()`   效果相同.

##### 函数名也是变量

> 函数名其实就是指向函数的变量！对于`abs()`这个函数，完全可以把函数名`abs`看成变量，它指向一个可以计算绝对值的函数.
>
> ```sequence
> 函数名 --> 变量: 函数名可以看成一个变量
> 变量 --> 函数对象: 这个变量指向了函数对象
> 变量 --> 函数名:变量标签
> 函数名 -> 函数对象: 计算具体数据的函数对象
> ```
>
> 如果把`abs` 函数名指向其他的对象:
>
> ```python
> In [35]: abs = 10
>
> In [36]: abs(-10)
> ---------------------------------------------------------------------------
> TypeError                                 Traceback (most recent call last)
> <ipython-input-36-c432e3f1fd6c> in <module>()
> ----> 1 abs(-10)
>
> TypeError: 'int' object is not callable
>
> ```
>
> 此时的变量名标签的变化
>
> ```sequence
> 变量abs  -> 计算绝对值的函数体:1.函数的变量名指向了函数体本身
>
> 变量abs --> int(10):2.函数的变量名指向了内存中的其他类型数据
> 计算绝对值的函数体 -->变量abs:3.中断了于变量abs标签的链接
> int(10) -> 变量abs:4.建立和变量abs 标签的链接
> ```
>
> 这样,变量`abs` 不能再使用函数体的任何功能.要恢复`abs` 变量,需要重新加载Python的交互程序.

#####　传入参数

> 既然变量可以指向函数,函数的参数可以接收变量,那么一个函数就可以接受另外一个函数作为参数,这种函数被称为**高阶函数**
>
> ```python
> def add(x,y,f)
> return f(x) + f(y)
> ```
>
> 当我们调用`add(-5,6,abs)`时,注意,这里加载的是**函数体** ,根据函数的定义,我们可以推导计算过程为:
>
> ```python
> x = -5
> y =  6
> f = abs
> return abs(-5) + abs(6)
> ```

把函数作为参数传入其他函数,这样的函数被称为高阶函数,函数式编程就是指这样的高度抽象的编程范式.

